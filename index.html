<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>지층에서 미래로, 동대문의 시간을 읽는 법</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&display=swap" rel="stylesheet">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background: #0a0e1a;
            color: #fff;
            overflow-x: hidden;
        }
        
        .text-gradient {
            background: linear-gradient(to right, #FFD700, #FFA500);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .btn-primary {
            background: #FFD700;
            color: #000;
            padding: 1rem 2.5rem;
            border-radius: 9999px;
            font-weight: 700;
            transition: all 0.3s;
            border: none;
            cursor: pointer;
            font-size: 1.1rem;
        }
        
        .btn-primary:hover {
            background: #FFA500;
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(255, 215, 0, 0.4);
        }
        
        .btn-secondary {
            padding: 1rem 2.5rem;
            border-radius: 9999px;
            font-weight: 700;
            border: 2px solid #FFD700;
            color: #FFD700;
            background: transparent;
            transition: all 0.3s;
            cursor: pointer;
            font-size: 1.1rem;
        }
        
        .btn-secondary:hover {
            background: #FFD700;
            color: #000;
        }
        
        .video-card {
            background: rgba(20, 20, 30, 0.6);
            border: 1px solid rgba(255, 215, 0, 0.2);
            border-radius: 1rem;
            overflow: hidden;
            transition: all 0.3s;
            cursor: pointer;
        }
        
        .video-card:hover {
            border-color: #FFD700;
            transform: translateY(-8px);
            box-shadow: 0 20px 40px rgba(255, 215, 0, 0.3);
        }
        
        .star {
            position: absolute;
            width: 2px;
            height: 2px;
            background: #FFD700;
            border-radius: 50%;
            animation: twinkle 3s infinite;
        }
        
        @keyframes twinkle {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 1; }
        }
        
        .feature-card {
            background: rgba(20, 20, 30, 0.6);
            border: 1px solid rgba(255, 215, 0, 0.2);
            border-radius: 1rem;
            padding: 2.5rem;
            transition: all 0.3s;
            height: 100%;
        }
        
        .feature-card:hover {
            border-color: #FFD700;
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(255, 215, 0, 0.2);
        }
        
        .video-thumbnail {
            width: 100%;
            height: 250px;
            background: linear-gradient(135deg, #1a1a2a, #2a2a3a);
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .play-icon {
            width: 70px;
            height: 70px;
            background: rgba(255, 215, 0, 0.9);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }
        
        .video-card:hover .play-icon {
            background: #FFD700;
            transform: scale(1.1);
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.95);
            z-index: 1000;
            overflow-y: auto;
        }
        
        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .nav-link {
            color: #fff;
            text-decoration: none;
            padding: 0.5rem 1rem;
            transition: color 0.3s;
            font-weight: 500;
        }
        
        .nav-link:hover {
            color: #FFD700;
        }
        
        .era-badge {
            display: inline-block;
            padding: 0.4rem 1rem;
            background: rgba(255, 215, 0, 0.2);
            color: #FFD700;
            border-radius: 9999px;
            font-size: 0.875rem;
            font-weight: 600;
            border: 1px solid rgba(255, 215, 0, 0.3);
        }

        .timeline-container {
            position: relative;
            padding: 4rem 0;
            overflow-x: auto;
        }

        .timeline-line {
            position: relative;
            height: 4px;
            background: linear-gradient(to right, #8B4513, #FFD700);
            margin: 2rem 0;
        }

        .timeline-point {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            text-align: center;
        }

        .timeline-dot {
            width: 16px;
            height: 16px;
            background: #FFD700;
            border-radius: 50%;
            margin: 0 auto 1rem;
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
        }

        .timeline-year {
            color: #FFD700;
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .timeline-label {
            color: #ccc;
            font-size: 0.9rem;
        }

        /* 3D Simulator Styles */
        #canvas-container {
            width: 100%;
            height: 600px;
            position: relative;
            background: linear-gradient(135deg, #0f0f1e 0%, #1a1a2e 100%);
            border-radius: 1rem;
            overflow: hidden;
        }

        .control-panel {
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(0, 0, 0, 0.85);
            backdrop-filter: blur(20px);
            border-radius: 1rem;
            padding: 1.5rem;
            width: 280px;
            border: 1px solid rgba(255, 215, 0, 0.3);
            z-index: 10;
            max-height: 90%;
            overflow-y: auto;
        }

        .control-section {
            margin-bottom: 1.5rem;
        }

        .control-section h3 {
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 1rem;
            color: #FFD700;
        }

        .pattern-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 8px;
        }

        .pattern-btn {
            aspect-ratio: 1;
            border: 2px solid rgba(255, 215, 0, 0.3);
            background: rgba(255, 215, 0, 0.1);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
        }

        .pattern-btn:hover {
            transform: scale(1.05);
            border-color: #FFD700;
            background: rgba(255, 215, 0, 0.2);
        }

        .pattern-btn.active {
            background: #FFD700;
            border-color: #FFD700;
            color: #000;
        }

        .color-palette {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 8px;
        }

        .color-btn {
            aspect-ratio: 1;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .color-btn:hover {
            transform: scale(1.1);
        }

        .color-btn.active {
            border-width: 3px;
            box-shadow: 0 0 20px currentColor;
        }

        .slider-group {
            margin-bottom: 1rem;
        }

        .slider-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-size: 0.85rem;
            color: #ccc;
        }

        input[type="range"] {
            width: 100%;
            height: 6px;
            border-radius: 3px;
            background: rgba(255, 255, 255, 0.2);
            outline: none;
            -webkit-appearance: none;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: #FFD700;
            cursor: pointer;
            box-shadow: 0 2px 10px rgba(255, 215, 0, 0.5);
        }

        input[type="range"]::-moz-range-thumb {
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: #FFD700;
            cursor: pointer;
            border: none;
        }

        .time-controls {
            display: flex;
            gap: 8px;
        }

        .time-btn {
            flex: 1;
            padding: 10px;
            background: rgba(255, 215, 0, 0.1);
            border: 2px solid rgba(255, 215, 0, 0.3);
            border-radius: 8px;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.85rem;
        }

        .time-btn:hover {
            background: rgba(255, 215, 0, 0.2);
        }

        .time-btn.active {
            background: #FFD700;
            border-color: #FFD700;
            color: #000;
            font-weight: 600;
        }

        .video-select-dropdown {
            width: 100%;
            padding: 12px;
            background: rgba(255, 215, 0, 0.1);
            border: 2px solid rgba(255, 215, 0, 0.3);
            border-radius: 8px;
            color: white;
            cursor: pointer;
            font-size: 0.9rem;
            outline: none;
        }

        .video-select-dropdown:hover {
            background: rgba(255, 215, 0, 0.2);
            border-color: #FFD700;
        }

        .video-select-dropdown option {
            background: #1a1a1a;
            color: white;
            padding: 10px;
        }
        
        @media (max-width: 768px) {
            .section-title {
                font-size: 2rem;
            }
            .control-panel {
                width: 240px;
                padding: 1rem;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="fixed top-0 left-0 right-0 z-50 bg-black/80 backdrop-blur-sm border-b border-gray-800">
        <div class="max-w-7xl mx-auto px-4 py-4 flex justify-between items-center">
            <h1 class="text-xl font-bold text-gradient">지층에서 미래로</h1>
            <div class="flex gap-6">
                <a href="#home" class="nav-link">홈</a>
                <a href="#intro" class="nav-link">프로젝트 소개</a>
                <a href="#timeline" class="nav-link">시간의 흐름</a>
                <a href="#layers" class="nav-link">7개 지층</a>
                <a href="#simulator" class="nav-link">시뮬레이터</a>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section id="home" class="relative min-h-screen flex items-center justify-center overflow-hidden" style="background: linear-gradient(135deg, #0a0e1a 0%, #1a1a2e 100%);">
        <div id="stars" class="absolute inset-0"></div>
        <div class="container mx-auto px-4 text-center relative z-10">
            <h1 id="hero-title" class="text-5xl md:text-7xl font-black mb-4 opacity-0 translate-y-10">
                <span class="text-white">지층에서 미래로,</span><br>
                <span class="text-gradient" style="font-size: 1.2em;">동대문의 시간을 읽는 법</span>
            </h1>
            <p id="hero-subtitle" class="text-xl md:text-2xl mb-8 text-gray-300 opacity-0 translate-y-10">
                100년의 역사가 겹쳐진 땅 위에서<br>
                빛으로 펼쳐지는 7개의 시간 지층
            </p>
            <div id="hero-cta" class="flex gap-4 justify-center opacity-0 translate-y-10">
                <button onclick="scrollToSection('layers')" class="btn-primary">
                    시간 여행 시작하기
                </button>
                <button onclick="scrollToSection('intro')" class="btn-secondary">
                    프로젝트 소개
                </button>
            </div>
        </div>
    </section>

    <!-- Why This Project Matters -->
    <section id="intro" class="py-20" style="background: linear-gradient(to bottom, #0a0e1a, #1a1a2e);">
        <div class="container mx-auto px-4">
            <h2 class="text-4xl md:text-5xl font-bold text-center mb-6">
                <span class="text-gradient">왜 이 프로젝트가 필요한가?</span>
            </h2>
            
            <div class="max-w-4xl mx-auto mb-16">
                <p class="text-xl text-gray-300 text-center leading-relaxed mb-6">
                    도시는 끊임없이 변화하지만, 그 변화의 이유와 과정은 쉽게 잊힙니다.
                </p>
                <p class="text-lg text-gray-400 text-center leading-relaxed mb-4">
                    동대문디자인플라자(DDP)가 들어선 이 땅은 조선시대 군사 요충지에서 실민지 제육장으로, 민족 저항의 광장에서 철거와 공백의 시대를 거쳐 오늘날 문화 플랫폼이 되기까지 <span class="text-yellow-400 font-bold">100년이 넘는 격변의 역사</span>를 품고 있습니다.
                </p>
                <p class="text-lg text-gray-400 text-center leading-relaxed">
                    하지만 대부분의 시민과 방문객은 화려한 곡선 건축물과 미디어아트만을 기억할 뿐, 그 아래 묻힌 이간수도도, 경성운동장의 함성도, 노점상의 삶도, 철거된 공동체의 목소리도 알지 못합니다.
                </p>
            </div>

            <div class="grid md:grid-cols-3 gap-8 max-w-6xl mx-auto">
                <div class="feature-card">
                    <div class="text-5xl mb-4">📖</div>
                    <h3 class="text-2xl font-bold mb-4 text-yellow-400">역사적 맥락의 가시화</h3>
                    <p class="text-gray-300 leading-relaxed">
                        DDP는 단순한 건축물이 아닌 '시간의 지층'입니다. 지하 유구부터 현재 파사드까지, 보이지 않는 역사를 빛과 영상으로 드러냄으로써 장소의 진정한 가치를 전달합니다.
                    </p>
                </div>
                <div class="feature-card">
                    <div class="text-5xl mb-4">👥</div>
                    <h3 class="text-2xl font-bold mb-4 text-yellow-400">비판적 사고의 촉발</h3>
                    <p class="text-gray-300 leading-relaxed">
                        아름다운 건축 이면의 갈등(원주민 소외, 상권 단절)을 숨기지 않고 질문으로 제시합니다. "누구를 위한 공간인가?"라는 공공성을 의를 관람자 스스로 사유하게 합니다.
                    </p>
                </div>
                <div class="feature-card">
                    <div class="text-5xl mb-4">🗄️</div>
                    <h3 class="text-2xl font-bold mb-4 text-yellow-400">디지털 아카이브로서의 역할</h3>
                    <p class="text-gray-300 leading-relaxed">
                        실제 파사드는 일시적이지만, 웹 플랫폼은 영구 보존됩니다. 교육·연구·시민 참여의 자료로 활용 가능하며, 도시재생 프로젝트의 모범 사례이자 반성 자료가 됩니다.
                    </p>
                </div>
            </div>

            <div class="mt-16 max-w-5xl mx-auto bg-gradient-to-r from-yellow-900/20 to-orange-900/20 border border-yellow-700/30 rounded-2xl p-8">
                <p class="text-lg text-gray-200 text-center leading-relaxed mb-4">
                    <span class="text-yellow-400 font-bold">자하 하디드</span>의 곡선은 서울의 산세와 도성의 흐름을 담았지만, 그 곡선이 지나는 <span class="text-yellow-400 font-bold">'시간'</span>까지 담지는 못했습니다.
                </p>
                <p class="text-xl text-white text-center font-bold">
                    이 프로젝트는 DDP의 222m 외벽을 과거와 현재, 성공과 실패, 빛과 그림자를 모두 품은 <span class="text-yellow-400">'시간의 캔버스'</span>로 재구성합니다.
                </p>
            </div>
        </div>
    </section>

    <!-- Timeline Section -->
    <section id="timeline" class="py-20 bg-black">
        <div class="container mx-auto px-4">
            <h2 class="text-4xl md:text-5xl font-bold text-center mb-4">
                <span class="text-gradient">시간의 흐름</span>
            </h2>
            
            <div class="timeline-container max-w-6xl mx-auto mt-16">
                <div class="timeline-line relative">
                    <div class="timeline-point" style="left: 0%;">
                        <div class="timeline-dot"></div>
                        <div class="timeline-year">조선시대</div>
                        <div class="timeline-label">한양도성<br>이간수문</div>
                    </div>
                    <div class="timeline-point" style="left: 20%;">
                        <div class="timeline-dot"></div>
                        <div class="timeline-year">1925</div>
                        <div class="timeline-label">경성운동장<br>건립</div>
                    </div>
                    <div class="timeline-point" style="left: 35%;">
                        <div class="timeline-dot"></div>
                        <div class="timeline-year">1945</div>
                        <div class="timeline-label">해방<br>서울운동장</div>
                    </div>
                    <div class="timeline-point" style="left: 55%;">
                        <div class="timeline-dot"></div>
                        <div class="timeline-year">1984</div>
                        <div class="timeline-label">동대문<br>운동장</div>
                    </div>
                    <div class="timeline-point" style="left: 75%;">
                        <div class="timeline-dot"></div>
                        <div class="timeline-year">2008</div>
                        <div class="timeline-label">철거<br>공백</div>
                    </div>
                    <div class="timeline-point" style="left: 90%;">
                        <div class="timeline-dot"></div>
                        <div class="timeline-year">2014</div>
                        <div class="timeline-label">DDP<br>개관</div>
                    </div>
                    <div class="timeline-point" style="left: 100%;">
                        <div class="timeline-dot"></div>
                        <div class="timeline-year">2024</div>
                        <div class="timeline-label">누적 방문<br>1억 명</div>
                    </div>
                </div>
            </div>

            <div class="text-center mt-16">
                <h3 class="text-3xl font-bold text-white mb-6">당신이 보게 될 7개의 빛 서사는</h3>
                <p class="text-xl text-gray-300 mb-8">
                    단순한 영상이 아니, <span class="text-yellow-400 font-bold">도시의 기억을 복원하는 행위</span>입니다.
                </p>
                <button onclick="scrollToSection('layers')" class="btn-primary">
                    지금 시작하기
                </button>
            </div>
        </div>
    </section>

    <!-- Video Layers -->
    <section id="layers" class="py-20" style="background: linear-gradient(to bottom, #000, #0a0e1a);">
        <div class="container mx-auto px-4">
            <h2 class="text-4xl md:text-5xl font-bold text-center mb-4">
                <span class="text-gradient">7개의 시간 지층</span>
            </h2>
            <p class="text-center text-gray-400 mb-12 text-lg">
                각 영상을 클릭하여 상세 정보를 확인하고 시뮬레이터에서 체험해보세요
            </p>
            <div id="video-grid" class="grid md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-7xl mx-auto">
                <!-- Video cards will be generated here -->
            </div>
        </div>
    </section>

    <!-- Media Facade Simulator -->
    <section id="simulator" class="py-20 bg-gradient-to-b from-black to-gray-900">
        <div class="container mx-auto px-4">
            <h2 class="text-4xl md:text-5xl font-bold text-center mb-4 text-gradient">
                미디어 파사드 시뮬레이터
            </h2>
            <p class="text-center text-gray-400 mb-12 text-lg">
                DDP 건물에 실시간으로 영상 패턴이 투사되는 것을 체험해보세요
            </p>
            
            <div class="max-w-6xl mx-auto">
                <div class="bg-black/50 rounded-2xl border border-gray-800 overflow-hidden">
                    <div id="canvas-container">
                        <!-- 3D Canvas will be inserted here -->
                        
                        <!-- Control Panel -->
                        <div class="control-panel">
                            <div class="control-section">
                                <h3>🎬 영상 선택</h3>
                                <select id="video-select" class="video-select-dropdown">
                                    <option value="">7개 지층 중 선택...</option>
                                </select>
                            </div>

                            <div class="control-section">
                                <h3>🌊 패턴</h3>
                                <div class="pattern-grid">
                                    <button class="pattern-btn active" onclick="changePattern('wave')" data-pattern="wave">〰️</button>
                                    <button class="pattern-btn" onclick="changePattern('pulse')" data-pattern="pulse">💫</button>
                                    <button class="pattern-btn" onclick="changePattern('ripple')" data-pattern="ripple">🌀</button>
                                    <button class="pattern-btn" onclick="changePattern('vertical')" data-pattern="vertical">📊</button>
                                    <button class="pattern-btn" onclick="changePattern('horizontal')" data-pattern="horizontal">📈</button>
                                    <button class="pattern-btn" onclick="changePattern('spiral')" data-pattern="spiral">🌪️</button>
                                </div>
                            </div>

                            <div class="control-section">
                                <h3>🎨 색상</h3>
                                <div class="color-palette">
                                    <button class="color-btn active" style="background: linear-gradient(135deg, #667eea, #764ba2)" onclick="changeColor('#667eea', '#764ba2')"></button>
                                    <button class="color-btn" style="background: linear-gradient(135deg, #f093fb, #f5576c)" onclick="changeColor('#f093fb', '#f5576c')"></button>
                                    <button class="color-btn" style="background: linear-gradient(135deg, #4facfe, #00f2fe)" onclick="changeColor('#4facfe', '#00f2fe')"></button>
                                    <button class="color-btn" style="background: linear-gradient(135deg, #43e97b, #38f9d7)" onclick="changeColor('#43e97b', '#38f9d7')"></button>
                                    <button class="color-btn" style="background: linear-gradient(135deg, #fa709a, #fee140)" onclick="changeColor('#fa709a', '#fee140')"></button>
                                    <button class="color-btn" style="background: linear-gradient(135deg, #30cfd0, #330867)" onclick="changeColor('#30cfd0', '#330867')"></button>
                                    <button class="color-btn" style="background: linear-gradient(135deg, #a8edea, #fed6e3)" onclick="changeColor('#a8edea', '#fed6e3')"></button>
                                    <button class="color-btn" style="background: linear-gradient(135deg, #ff9a9e, #fecfef)" onclick="changeColor('#ff9a9e', '#fecfef')"></button>
                                </div>
                            </div>

                            <div class="control-section">
                                <div class="slider-group">
                                    <div class="slider-label">
                                        <span>속도</span>
                                        <span id="speed-value">1.0x</span>
                                    </div>
                                    <input type="range" id="speed-slider" min="0.1" max="3" step="0.1" value="1" oninput="updateSpeed(this.value)">
                                </div>
                                <div class="slider-group">
                                    <div class="slider-label">
                                        <span>밝기</span>
                                        <span id="brightness-value">100%</span>
                                    </div>
                                    <input type="range" id="brightness-slider" min="0.1" max="2" step="0.1" value="1" oninput="updateBrightness(this.value)">
                                </div>
                                <div class="slider-group">
                                    <div class="slider-label">
                                        <span>크기</span>
                                        <span id="scale-value">1.0x</span>
                                    </div>
                                    <input type="range" id="scale-slider" min="0.5" max="2" step="0.1" value="1" oninput="updateScale(this.value)">
                                </div>
                            </div>

                            <div class="control-section">
                                <h3>⏰ 시간</h3>
                                <div class="time-controls">
                                    <button class="time-btn" onclick="setTimeOfDay('day')">☀️</button>
                                    <button class="time-btn active" onclick="setTimeOfDay('night')">🌙</button>
                                </div>
                            </div>

                            <button class="btn-primary" onclick="resetAll()" style="width: 100%;">
                                🔄 초기화
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Instructions -->
                <div class="mt-8 grid md:grid-cols-3 gap-4">
                    <div class="bg-black/30 p-4 rounded-lg border border-gray-800">
                        <h4 class="text-yellow-400 font-bold mb-2">🖱️ 마우스 조작</h4>
                        <p class="text-sm text-gray-400">좌클릭 드래그: 회전<br>우클릭 드래그: 이동<br>스크롤: 확대/축소</p>
                    </div>
                    <div class="bg-black/30 p-4 rounded-lg border border-gray-800">
                        <h4 class="text-yellow-400 font-bold mb-2">🎬 영상 선택</h4>
                        <p class="text-sm text-gray-400">드롭다운에서 7개 지층 중 하나를 선택하여 해당 테마의 패턴 확인</p>
                    </div>
                    <div class="bg-black/30 p-4 rounded-lg border border-gray-800">
                        <h4 class="text-yellow-400 font-bold mb-2">💡 실시간 조작</h4>
                        <p class="text-sm text-gray-400">패턴, 색상, 속도를 실시간으로 변경하며 미디어 파사드 체험</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Modal -->
    <div id="video-modal" class="modal">
        <div class="container mx-auto px-4 py-8">
            <div class="max-w-4xl mx-auto bg-gray-900 rounded-2xl border border-gray-800 p-8 relative">
                <button onclick="closeModal()" class="absolute top-4 right-4 text-gray-400 hover:text-white text-3xl">
                    ×
                </button>
                <h2 id="modal-title" class="text-3xl font-bold mb-6"></h2>
                <div id="modal-content"></div>
            </div>
        </div>
    </div>

    <script>
        // Video data matching the screenshots
        const videoLayers = [
            {
                id: 1,
                title: "지층의 흔들",
                subtitle: "성벽-수문이 깨어난 밤",
                era: "조선시대 - 일정",
                duration: "5:00",
                description: "한양도성의 안암문지와 이간수문이 흔들린 땅 위에 보존된 시간의 지층.",
                color: "#8B4513",
                keyScenes: [
                    { time: "0:00-1:00", description: "흥인지문을 중심으로 한 전통 시장의 활기찬 모습" },
                    { time: "1:00-2:00", description: "성벽이 서서히 해체되며 근대 건축이 들어서는 과정" }
                ],
                historicalContext: "한양도성의 안암문지와 이간수문이 위치했던 이 땅은 흙다짐 도로법의 유구부터 현재 파사드까지 지하 유구부터 시작해 보존되어 있습니다."
            },
            {
                id: 2,
                title: "경기장의 함성과 균열",
                subtitle: "통치와 저항의 이중주",
                era: "1925-1945",
                duration: "5:30",
                description: "경성운동장(1925)은 식민 권력의 집회와 군중 통제의 장이었고, 동시에 해방 후 서울운동장은 민족 저항의 전장이 되었습니다.",
                color: "#4A5568",
                keyScenes: [
                    { time: "0:00-1:00", description: "전차 개통으로 활기를 띠는 동대문 시장" },
                    { time: "1:00-2:00", description: "일본 자본의 유입과 조선인 상인의 경제적 어려움" }
                ],
                historicalContext: "해방 후 서울운동장이 된 이곳은 주권자가 민족 저항을 경로 상징이 되었고, 광장 문화의 원류를 표창합니다."
            },
            {
                id: 3,
                title: "해방과 동원의 광장",
                subtitle: "국가이념에 의식의 획일화까지",
                era: "1945-1983",
                duration: "4:50",
                description: "해방 후 서울운동장은 정치 집회와 관제 행사의 공간이 되었습니다.",
                color: "#2D3748",
                keyScenes: [
                    { time: "0:00-1:00", description: "전쟁으로 파괴된 동대문의 폐허" },
                    { time: "1:00-2:00", description: "판잣집에서 시작된 봉제 작업장들" }
                ],
                historicalContext: "2000년대 초점이 없어진 상업 주차장 진흥으로 기능이 상실된 노후한 공간이 되었습니다."
            },
            {
                id: 4,
                title: "공백의 시대",
                subtitle: "철거, 임시 서울, 기능 상실",
                era: "1984-2008",
                duration: "4:20",
                description: "2000년대 초점이 임시서울시장으로, 주차장 진흥장으로 기능이 상실 된 노후 공간이 되었습니다.",
                color: "#DC143C",
                keyScenes: [
                    { time: "0:00-1:00", description: "평화시장 노동자들의 일상" },
                    { time: "1:00-2:00", description: "전태일의 고뇌와 노동운동" }
                ],
                historicalContext: "2008년 이후 절거 현장은 도시경관이 된 폭력의 현장과 경제적 자본의 배치된 곳입니다."
            },
            {
                id: 5,
                title: "곱씹으로 있는 철우",
                subtitle: "저하 하디드의 계곡",
                era: "2009-2014",
                duration: "6:00",
                description: "하디드의 '땅을의 흥건' 개념이 실제 메타포지만 역 공백도로 사라진니다.",
                color: "#9B59B6",
                keyScenes: [
                    { time: "0:00-1:00", description: "올림픽 이후 급변하는 서울의 야경" },
                    { time: "1:00-2:00", description: "동대문 시장의 네온사인과 밤 문화" }
                ],
                historicalContext: "하디드의 메타타우의 '땅의 혼적' 개념이 실제 역사적 자물쇠로 사라진 역사 원한 공간의 메수를 사파한다는습니다."
            },
            {
                id: 6,
                title: "도시가 콘텐츠가 되는 밤",
                subtitle: "K-컬쳐 플랫폼을 잉여도",
                era: "2014-2024",
                duration: "5:40",
                description: "DDP는 도시 콘텐츠 생산 실천 리더로 전환했습니다. 서울이이루자 SNS 촬영지 광명했니다.",
                color: "#4169E1",
                keyScenes: [
                    { time: "0:00-1:00", description: "동대문운동장의 마지막 날들" },
                    { time: "1:00-2:00", description: "철거 반대 시위와 상인들의 절규" }
                ],
                historicalContext: "DDP는 지우 도시 편시 스폿 되교.되는 리더로 진열했습니다."
            },
            {
                id: 7,
                title: "질문으로 맺다",
                subtitle: "누구를 위한 공간인가?",
                era: "현재 - 미래",
                duration: "5:10",
                description: "현재와 추로 설계된 상공 검출 현재어에서 '정권 매김마에 태산 발을 매김합니다.",
                color: "#C41E3A",
                keyScenes: [
                    { time: "0:00-1:00", description: "DDP 개관과 화려한 행사들" },
                    { time: "1:00-2:00", description: "늘어나는 관광객과 변화하는 상권" }
                ],
                historicalContext: "현재는 주주오 설치된 존강 집몸 신신'현용에셔 정권 배정어 대반 뱀 공간 배정을 매김습니다."
            }
        ];

        // Three.js variables
        let scene, camera, renderer, building;
        let animationTime = 0;
        let currentPattern = 'wave';
        let currentColors = ['#667eea', '#764ba2'];
        let speed = 1.0;
        let brightness = 1.0;
        let scale = 1.0;
        let isNight = true;
        let allMaterials = [];

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            generateStars();
            animateHero();
            generateVideoCards();
            populateVideoSelect();
            setupScrollAnimations();
            init3DSimulator();
        });

        // Generate background stars
        function generateStars() {
            const starsContainer = document.getElementById('stars');
            for (let i = 0; i < 150; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.animationDelay = Math.random() * 3 + 's';
                starsContainer.appendChild(star);
            }
        }

        // Animate hero section
        function animateHero() {
            gsap.registerPlugin(ScrollTrigger);
            
            const tl = gsap.timeline();
            tl.to('#hero-title', { opacity: 1, y: 0, duration: 1, ease: 'power3.out' })
              .to('#hero-subtitle', { opacity: 1, y: 0, duration: 0.8, ease: 'power3.out' }, '-=0.5')
              .to('#hero-cta', { opacity: 1, y: 0, duration: 0.6, ease: 'power3.out' }, '-=0.3');
        }

        // Generate video cards
        function generateVideoCards() {
            const grid = document.getElementById('video-grid');
            videoLayers.forEach(video => {
                const card = document.createElement('div');
                card.className = 'video-card';
                card.onclick = () => openModal(video.id);
                
                card.innerHTML = `
                    <div class="video-thumbnail" style="background: linear-gradient(135deg, ${video.color}22, ${video.color}88);">
                        <div class="play-icon">
                            <svg width="30" height="30" viewBox="0 0 24 24" fill="black">
                                <path d="M8 5v14l11-7z"/>
                            </svg>
                        </div>
                    </div>
                    <div class="p-5">
                        <div class="flex items-center justify-between mb-3">
                            <span class="era-badge">${video.era}</span>
                            <span class="text-gray-400 text-sm font-semibold">${video.duration}</span>
                        </div>
                        <h3 class="text-xl font-bold mb-2 text-white">${video.title}</h3>
                        <p class="text-gray-300 mb-3 font-semibold">${video.subtitle}</p>
                        <p class="text-sm text-gray-400 leading-relaxed">${video.description}</p>
                        <div class="mt-4 flex items-center text-yellow-400 text-sm font-bold">
                            <span>자세히 보기</span>
                            <svg class="w-4 h-4 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                            </svg>
                        </div>
                    </div>
                `;
                
                grid.appendChild(card);
            });
        }

        // Populate video select dropdown
        function populateVideoSelect() {
            const select = document.getElementById('video-select');
            videoLayers.forEach(video => {
                const option = document.createElement('option');
                option.value = video.id;
                option.textContent = video.title;
                select.appendChild(option);
            });

            select.addEventListener('change', function() {
                if (this.value) {
                    const video = videoLayers.find(v => v.id === parseInt(this.value));
                    if (video) {
                        changeColor(video.color, adjustColor(video.color, -20));
                    }
                }
            });
        }

        // Adjust color brightness
        function adjustColor(color, percent) {
            const num = parseInt(color.replace("#",""), 16);
            const amt = Math.round(2.55 * percent);
            const R = (num >> 16) + amt;
            const G = (num >> 8 & 0x00FF) + amt;
            const B = (num & 0x0000FF) + amt;
            return "#" + (0x1000000 + (R<255?R<1?0:R:255)*0x10000 + 
                   (G<255?G<1?0:G:255)*0x100 + (B<255?B<1?0:B:255))
                   .toString(16).slice(1);
        }

        // Initialize 3D Simulator
        function init3DSimulator() {
            const container = document.getElementById('canvas-container');
            
            // Scene setup
            scene = new THREE.Scene();
            scene.fog = new THREE.Fog(0x0f0f1e, 50, 200);

            // Camera setup
            camera = new THREE.PerspectiveCamera(
                60,
                container.clientWidth / container.clientHeight,
                0.1,
                1000
            );
            camera.position.set(40, 20, 60);
            camera.lookAt(0, 10, 0);

            // Renderer setup
            renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
            renderer.setSize(container.clientWidth, container.clientHeight);
            renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
            renderer.shadowMap.enabled = true;
            renderer.shadowMap.type = THREE.PCFSoftShadowMap;
            container.insertBefore(renderer.domElement, container.firstChild);

            // Lighting
            const ambientLight = new THREE.AmbientLight(0x404040, 0.5);
            scene.add(ambientLight);

            const moonLight = new THREE.DirectionalLight(0x9999ff, 0.5);
            moonLight.position.set(20, 50, 30);
            moonLight.castShadow = true;
            moonLight.shadow.mapSize.width = 2048;
            moonLight.shadow.mapSize.height = 2048;
            scene.add(moonLight);

            // Create DDP Building
            createDDPBuilding();

            // Ground
            const groundGeometry = new THREE.PlaneGeometry(200, 200);
            const groundMaterial = new THREE.MeshStandardMaterial({
                color: 0x1a1a2e,
                roughness: 0.8,
                metalness: 0.2
            });
            const ground = new THREE.Mesh(groundGeometry, groundMaterial);
            ground.rotation.x = -Math.PI / 2;
            ground.position.y = -0.1;
            ground.receiveShadow = true;
            scene.add(ground);

            // Simple mouse controls
            let isDragging = false;
            let previousMousePosition = { x: 0, y: 0 };
            
            renderer.domElement.addEventListener('mousedown', function(e) {
                isDragging = true;
                previousMousePosition = { x: e.clientX, y: e.clientY };
            });

            renderer.domElement.addEventListener('mousemove', function(e) {
                if (isDragging) {
                    const deltaMove = {
                        x: e.clientX - previousMousePosition.x,
                        y: e.clientY - previousMousePosition.y
                    };
                    
                    camera.position.x -= deltaMove.x * 0.1;
                    camera.position.y += deltaMove.y * 0.1;
                    camera.lookAt(0, 10, 0);
                    
                    previousMousePosition = { x: e.clientX, y: e.clientY };
                }
            });

            renderer.domElement.addEventListener('mouseup', function() {
                isDragging = false;
            });

            renderer.domElement.addEventListener('wheel', function(e) {
                e.preventDefault();
                const zoomSpeed = 2;
                camera.position.z += e.deltaY * 0.01 * zoomSpeed;
                camera.position.z = Math.max(20, Math.min(100, camera.position.z));
            });

            // Window resize
            window.addEventListener('resize', onWindowResize);

            // Start animation
            animate3D();
        }

        function createDDPBuilding() {
            const group = new THREE.Group();

            // Main curved sections of DDP
            const sections = [
                { width: 50, height: 15, depth: 20, curve: 0.3, pos: [0, 7.5, 0] },
                { width: 45, height: 12, depth: 18, curve: 0.4, pos: [25, 6, -5] },
                { width: 40, height: 10, depth: 16, curve: 0.35, pos: [-25, 5, 5] },
            ];

            sections.forEach((section, index) => {
                const geometry = new THREE.BoxGeometry(
                    section.width,
                    section.height,
                    section.depth,
                    40, 20, 20
                );

                // Create curved surface
                const positions = geometry.attributes.position;
                for (let i = 0; i < positions.count; i++) {
                    const x = positions.getX(i);
                    const y = positions.getY(i);
                    const z = positions.getZ(i);

                    const curveAmount = section.curve;
                    const newX = x + Math.sin(y * 0.1) * curveAmount * 5;
                    const newZ = z + Math.cos(x * 0.05) * curveAmount * 3;

                    positions.setX(i, newX);
                    positions.setZ(i, newZ);
                }
                positions.needsUpdate = true;
                geometry.computeVertexNormals();

                // Shader material for projection mapping
                const material = new THREE.ShaderMaterial({
                    uniforms: {
                        time: { value: 0 },
                        color1: { value: new THREE.Color(currentColors[0]) },
                        color2: { value: new THREE.Color(currentColors[1]) },
                        pattern: { value: 0 },
                        brightness: { value: 1.0 },
                        scale: { value: 1.0 }
                    },
                    vertexShader: `
                        varying vec2 vUv;
                        varying vec3 vPosition;
                        varying vec3 vNormal;
                        
                        void main() {
                            vUv = uv;
                            vPosition = position;
                            vNormal = normal;
                            gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
                        }
                    `,
                    fragmentShader: `
                        uniform float time;
                        uniform vec3 color1;
                        uniform vec3 color2;
                        uniform float pattern;
                        uniform float brightness;
                        uniform float scale;
                        
                        varying vec2 vUv;
                        varying vec3 vPosition;
                        varying vec3 vNormal;
                        
                        float noise(vec2 st) {
                            return fract(sin(dot(st.xy, vec2(12.9898,78.233))) * 43758.5453123);
                        }
                        
                        void main() {
                            vec2 uv = vUv * scale;
                            vec3 pos = vPosition * 0.1;
                            
                            float pattern = sin(pos.x * 2.0 + time) * cos(pos.y * 2.0 + time * 0.5) * 0.5 + 0.5;
                            
                            vec3 color = mix(color1, color2, pattern);
                            color *= brightness;
                            
                            float glow = pow(pattern, 2.0) * 0.5;
                            color += glow;
                            
                            vec3 normal = normalize(vNormal);
                            vec3 lightDir = normalize(vec3(1.0, 1.0, 1.0));
                            float diff = max(dot(normal, lightDir), 0.0) * 0.3 + 0.7;
                            
                            gl_FragColor = vec4(color * diff, 1.0);
                        }
                    `,
                    side: THREE.DoubleSide
                });

                allMaterials.push(material);

                const mesh = new THREE.Mesh(geometry, material);
                mesh.position.set(...section.pos);
                mesh.castShadow = true;
                mesh.receiveShadow = true;
                group.add(mesh);
            });

            scene.add(group);
            building = group;
        }

        function animate3D() {
            requestAnimationFrame(animate3D);
            
            animationTime += 0.01 * speed;
            
            // Update all materials
            allMaterials.forEach(material => {
                material.uniforms.time.value = animationTime;
                material.uniforms.brightness.value = brightness;
                material.uniforms.scale.value = scale;
            });
            
            renderer.render(scene, camera);
        }

        function onWindowResize() {
            const container = document.getElementById('canvas-container');
            camera.aspect = container.clientWidth / container.clientHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(container.clientWidth, container.clientHeight);
        }

        // Control functions
        function changePattern(pattern) {
            currentPattern = pattern;
            document.querySelectorAll('.pattern-btn').forEach(btn => {
                btn.classList.remove('active');
                if (btn.getAttribute('data-pattern') === pattern) {
                    btn.classList.add('active');
                }
            });
        }

        function changeColor(color1, color2) {
            currentColors = [color1, color2];
            allMaterials.forEach(material => {
                material.uniforms.color1.value = new THREE.Color(color1);
                material.uniforms.color2.value = new THREE.Color(color2);
            });
            
            document.querySelectorAll('.color-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
        }

        function updateSpeed(value) {
            speed = parseFloat(value);
            document.getElementById('speed-value').textContent = value + 'x';
        }

        function updateBrightness(value) {
            brightness = parseFloat(value);
            document.getElementById('brightness-value').textContent = Math.round(value * 100) + '%';
        }

        function updateScale(value) {
            scale = parseFloat(value);
            document.getElementById('scale-value').textContent = value + 'x';
        }

        function setTimeOfDay(time) {
            isNight = (time === 'night');
            document.querySelectorAll('.time-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            if (isNight) {
                scene.fog = new THREE.Fog(0x0f0f1e, 50, 200);
            } else {
                scene.fog = new THREE.Fog(0x87CEEB, 50, 200);
            }
        }

        function resetAll() {
            speed = 1.0;
            brightness = 1.0;
            scale = 1.0;
            currentColors = ['#667eea', '#764ba2'];
            currentPattern = 'wave';
            
            document.getElementById('speed-slider').value = 1;
            document.getElementById('brightness-slider').value = 1;
            document.getElementById('scale-slider').value = 1;
            document.getElementById('speed-value').textContent = '1.0x';
            document.getElementById('brightness-value').textContent = '100%';
            document.getElementById('scale-value').textContent = '1.0x';
            document.getElementById('video-select').value = '';
            
            allMaterials.forEach(material => {
                material.uniforms.color1.value = new THREE.Color('#667eea');
                material.uniforms.color2.value = new THREE.Color('#764ba2');
                material.uniforms.brightness.value = 1.0;
                material.uniforms.scale.value = 1.0;
            });
            
            document.querySelectorAll('.pattern-btn').forEach((btn, i) => {
                btn.classList.toggle('active', i === 0);
            });
            document.querySelectorAll('.color-btn').forEach((btn, i) => {
                btn.classList.toggle('active', i === 0);
            });
        }

        // Modal functions
        function openModal(id) {
            const video = videoLayers.find(v => v.id === id);
            if (!video) return;

            const modal = document.getElementById('video-modal');
            const title = document.getElementById('modal-title');
            const content = document.getElementById('modal-content');

            title.innerHTML = `${video.title} <span class="text-gray-400 text-lg">- ${video.subtitle}</span>`;
            
            content.innerHTML = `
                <div>
                    <div class="flex items-center gap-4 mb-6">
                        <span class="era-badge">${video.era}</span>
                        <span class="text-gray-400 font-semibold">재생시간: ${video.duration}</span>
                    </div>
                    
                    <div class="bg-black/50 p-6 rounded-lg mb-6 border border-yellow-700/30">
                        <h4 class="text-yellow-400 font-bold mb-3 text-lg">📖 역사적 배경</h4>
                        <p class="text-gray-300 leading-relaxed text-base">${video.historicalContext}</p>
                    </div>

                    <div class="mb-6">
                        <h4 class="text-xl font-bold mb-4">🎬 주요 장면</h4>
                        <div class="space-y-3">
                            ${video.keyScenes.map(scene => `
                                <div class="flex gap-4 text-sm bg-black/30 p-4 rounded-lg">
                                    <span class="text-yellow-400 font-mono font-bold">${scene.time}</span>
                                    <span class="text-gray-300">${scene.description}</span>
                                </div>
                            `).join('')}
                        </div>
                    </div>

                    <div class="flex gap-4 mt-8">
                        <button onclick="selectVideoForSimulator(${video.id})" class="btn-primary flex-1">
                            <svg class="w-5 h-5 inline mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                            </svg>
                            시뮬레이터에서 보기
                        </button>
                        <button class="btn-secondary flex-1" onclick="closeModal()">
                            닫기
                        </button>
                    </div>
                </div>
            `;

            modal.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function selectVideoForSimulator(id) {
            closeModal();
            document.getElementById('video-select').value = id;
            scrollToSection('simulator');
            
            const video = videoLayers.find(v => v.id === id);
            if (video) {
                setTimeout(() => {
                    changeColor(video.color, adjustColor(video.color, -20));
                }, 1000);
            }
        }

        function closeModal() {
            const modal = document.getElementById('video-modal');
            modal.classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        function scrollToSection(id) {
            const element = document.getElementById(id);
            if (element) {
                element.scrollIntoView({ behavior: 'smooth' });
            }
        }

        // Setup scroll animations
        function setupScrollAnimations() {
            gsap.registerPlugin(ScrollTrigger);

            gsap.utils.toArray('.feature-card').forEach((card, i) => {
                gsap.from(card, {
                    scrollTrigger: {
                        trigger: card,
                        start: 'top 85%',
                    },
                    y: 50,
                    opacity: 0,
                    duration: 0.8,
                    delay: i * 0.1,
                    ease: 'power3.out'
                });
            });

            gsap.utils.toArray('.video-card').forEach((card, i) => {
                gsap.from(card, {
                    scrollTrigger: {
                        trigger: card,
                        start: 'top 85%',
                    },
                    y: 50,
                    opacity: 0,
                    duration: 0.8,
                    delay: i * 0.1,
                    ease: 'power3.out'
                });
            });
        }

        // Close modal on outside click
        document.getElementById('video-modal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeModal();
            }
        });

        // Close modal on Escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeModal();
            }
        });
    </script>
</body>
</html>
